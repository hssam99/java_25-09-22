package studentManager;

import java.util.ArrayList;
import java.util.Scanner;

public class Student {
	/*
	 * - 멤버변수 : 학번, 이름, 나이, 전화번호, 주소, 수강과목(Subject[5] class), cnt
	 * - 수강과목을 추가하는 메서드
	 * - 수강과목을 취소하는 메서드
	 * - 수강배열을 출력하는 메서드
	 * - 학생정보를 출력하는 메서드
	 */
	
	
	
	private String stdId; // 학번
	private String stdName; // 학생이름
	private int stdAge; // 학생 나이
	private String stdPhNum; // 학생 전화번호
	private String stdAdd; // 학생 주소
//	private Subject[] stdSub = new Subject[5]; // 한학생의 수강기록
	private ArrayList<Subject> stdSub = new ArrayList<Subject>(); // 한학생의 수강기록
//	private int cnt=0;
	
	
	
	public Student() {}
	
	
	public Student(String id, String name, int age, String phNum, String add) {
		this.stdId = id;
		this.stdName = name;
		this.stdAge = age;
		this.stdPhNum = phNum;
		this.stdAdd = add;
	}
	
	
	
	
	// 내 수강정보 출력
	public void printStdSubList() {
		boolean result = false;
		System.out.println("No.\t과목코드\t과목명\t수강날짜\t\t\t수강시간\t강사명\t장소");
		System.out.println("-------------------------------------------------------------------------------");
		int i = 0;
		for(Subject sub : stdSub) {
			System.out.println((i+1)+"|\t"+sub.getSubId()+"\t"+
					sub.getSubName()+"\t"+sub.getSubDate()+"\t"+sub.getSubTime()+"\t"+
								sub.getSubProf()+"\t"+sub.getSubPlace());
						result = true;
						i++;
		}
		
//		for(int i = 0; i<cnt;i++) {
//			System.out.println((i+1)+"|\t"+stdSub[i].getSubId()+"\t"+
//		stdSub[i].getSubName()+"\t"+stdSub[i].getSubDate()+"\t"+stdSub[i].getSubTime()+"\t"+
//					stdSub[i].getSubProf()+"\t"+stdSub[i].getSubPlace());
//			result = true;
//		}
		
		if(result==false) {
			System.out.println("수강내역이 없습니다.");
		}
		
	}
	
	
	// 수강 신청
	public void addSub(Subject subject) {
		// TODO Auto-generated method stub
		
		if(subject==null) {
			return;
		}
		
		
		for(Subject sub : stdSub) {
			if(sub.getSubId().equals(subject.getSubId())) {
				System.out.println("이미 추가한 과목입니다.");
				return;
			}
		}
		
		stdSub.add(subject);
		System.out.println("등록을 완료했습니다.");
		
//		for(int i=0;i<cnt;i++) {
//			if(stdSub[i].getSubId().equals(subject.getSubId())) {
//				System.out.println("이미 추가한 과목입니다.");
//				return;
//			}
//		}
	
		
//		stdSub[cnt]=subject;
//		cnt++;
	}
	
	
	// 수강 취소
	public void delSub(Scanner sc) { // delSub(과목코드)
//		int index = -1; // 배열의 번지수에는 0이 존재하기 때문에 -1로 설정
		boolean result = false;
		
		
		if(stdSub.isEmpty()) { // new라는 객체가 생성되면 빈 객체이므로 null이 아니다.
			return;
		}
		
		System.out.print("취소할 강좌 과목코드 선택>");
		String subId = sc.next();
		
		// 사용자가 입력한 과목번호와 수강기록에 있는 과목코드 비교
		for(Subject sub : stdSub) {
			if(sub.getSubId().equals(subId)) {
				stdSub.remove(stdSub.indexOf(sub)); // 존재하면 삭제
				result = true;
				System.out.println("수강을 취소했습니다.");
				break; // 찾았으니 탈출
			}
		}

		if(result == false) {
			System.out.println("등록하지 않은 강좌입니다. 삭제할 수 없습니다.");
			return;
		}
		
//		// 사용자가 입력한 과목번호와 수강기록에 있는 과목코드 비교
//		for(int i=0;i<cnt;i++) {
//			if(stdSub[i].getSubId().equals(next)) {
//				index = i; // 해당 과목코드가 있는 번지 기록
//				break; // 같은 과목코드를 발견했다면 검색 종료
//			}
//		}
//		
//		if(index==-1) {
//			System.out.println("등록하지 않은 강좌입니다. 삭제할 수 없습니다.");
//			return;
//		}else {
//			// 삭제
//			// stdSub[i] 를 삭제
//			// stdSub[i] = stdSub[i+1]
//			// stdSub[i+1] = stdSub[i+2] ...
//			// stdSub[i+2] = null
//			
//			for(int i=index;i<cnt-1;i++) {
//				stdSub[i] = stdSub[i+1];
//			}
//			
//			stdSub[cnt-1] = null;
//			cnt--;
//			System.out.println("수강 취소했습니다.");
//		}
		
	}
	

	
	
	
	public String getStdId() {
		return stdId;
	}
	public void setStdId(String stdId) {
		this.stdId = stdId;
	}
	public String getStdName() {
		return stdName;
	}
	public void setStdName(String stdName) {
		this.stdName = stdName;
	}
	public int getStdAge() {
		return stdAge;
	}
	public void setStdAge(int stdAge) {
		this.stdAge = stdAge;
	}
	public String getStdPhNum() {
		return stdPhNum;
	}
	public void setStdPhNum(String stdPhNum) {
		this.stdPhNum = stdPhNum;
	}
	public String getStdAdd() {
		return stdAdd;
	}
	public void setStdAdd(String stdAdd) {
		this.stdAdd = stdAdd;
	}


	public ArrayList<Subject> getStdSub() {
		return stdSub;
	}


	public void setStdSub(ArrayList<Subject> stdSub) {
		this.stdSub = stdSub;
	}
	
	
}
//	public Subject[] getStdSub() {
//		return stdSub;
//	}
//
//
//	public void setStdSub(Subject[] stdSub) {
//		this.stdSub = stdSub;
//	}
//
//
//
//	public int getCnt() {
//		return cnt;
//	}
//
//
//	public void setCnt(int cnt) {
//		this.cnt = cnt;
//	}

