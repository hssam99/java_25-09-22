package day16;

import java.util.ArrayList;
import java.util.List;
import java.util.stream.Collectors;

public class StreamEx01 {

	public static void main(String[] args) {
		
		List<Student> stdList = new ArrayList<>();
		
		stdList.add(new Student("Mike", 95));
		stdList.add(new Student("Jennie", 80));
		stdList.add(new Student("Kate", 82));
		stdList.add(new Student("Daniel", 77));
		stdList.add(new Student("Kim", 92));
		stdList.add(new Student("Sonny", 98));
		stdList.add(new Student("Kane", 90));
		stdList.add(new Student("Wirtz", 67));
		stdList.add(new Student("Isak", 72));
		stdList.add(new Student("Conor", 45));
		
		// 학생 출력
		stdList.stream().forEach(n->System.out.println(n));
		
		
		// 점수합계 출력
		// mapToInt: 객체 스트림을 숫자 스트림(int)으로 바꿀 때 사용
		int sum=stdList.stream().mapToInt(n -> n.getScore()).sum(); 
		System.out.println("합계 : "+sum);
		
		// 전체 인원수
		long count = stdList.stream().count(); //count의 리턴타입은 long
		System.out.println("전체인원수 :"+count);
		
		// 점수가 80점 이상인 학생의 인원수
		long count2 = stdList.stream().filter(n->n.getScore()>=80).count();
		System.out.println("80점 이상 인원수 :"+count2);
	
		
		System.out.println("--sorted by name--");
		// 정렬(이름순)
		List<Student> sortedByName = stdList.stream()
				.sorted((a,b) -> a.getStdName().compareTo(b.getStdName()))
				.collect(Collectors.toList());
		
		
		for(Student s : sortedByName) {
			System.out.println(s.getStdName() + " : "+ s.getScore());
		}
		
		System.out.println("--sorted by score--");
		// 정렬(성적순)
		List<Student> sortedByScore = stdList.stream()
				.sorted((a,b) -> b.getScore()-a.getScore())
				.collect(Collectors.toList());
		
		for(Student s : sortedByScore) {
			System.out.println(s.getStdName() + " : "+ s.getScore());
		}
		
		
		

	}

}



class Student{
	private String stdName;
	private int score;
	
	public Student(){}
	
	public Student(String stdName, int score) {
		this.stdName = stdName;
		this.score = score;
		
	}
	
	
	public void printStudent() {
		System.out.println(stdName+" : "+score);
	}
	
	
	public String getStdName() {
		return stdName;
	}
	public void setStdName(String stdName) {
		this.stdName = stdName;
	}
	public int getScore() {
		return score;
	}
	public void setScore(int score) {
		this.score = score;
	}
	
	
	@Override
	public String toString() {
		return stdName + ":" + score;
	}
	
	
	
}