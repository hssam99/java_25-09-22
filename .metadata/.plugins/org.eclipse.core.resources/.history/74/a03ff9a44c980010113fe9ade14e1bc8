package f1_project;

import java.util.List;
import java.util.Scanner;
import java.util.stream.Collectors;

// 기타 게임 컨트롤러
public class GameController {
	
	DotArtController dac = new DotArtController();
	
	
	Scanner sc = new Scanner(System.in);
	
	
	public void printLoadingDot() throws InterruptedException {
		System.out.print(".");
		Thread.sleep(50);
		System.out.print(".");
		Thread.sleep(50);
		System.out.print(".");
		Thread.sleep(50);
		Thread.sleep(10);
		System.out.println();
		System.out.println();
		System.out.println();
	}	// printLoadingDot

	
	public void printStringOnebyOne(String text) {
    	for (int i = 0; i < text.length(); i++) {
			System.out.print(text.charAt(i)); // 한 글자 출력
			System.out.flush();              // 출력 즉시 반영
			try {
				Thread.sleep(10); // 0.1초 대기
			} catch (InterruptedException e) {
				e.printStackTrace();
			}              
		}
    	System.out.println();
    	
    }
	
	
	
	
	
	public void printChampionshipDriver() {
		dac.printGrandPrixStandingImage();
		System.out.println("RANK \t DRIVER \t\t TEAM \t\t\t POINT");
		System.out.println("-------------------------------------------------------------------------------------");
		System.out.println();
		
		
    	int prevDriverPoint = 0;
    	int prevRank = 1;
    	
    	List<Driver> sortedList =  
    			CircuitController.pc.driverListForGrandPix
        	    .stream()
        	    .sorted((a, b) -> Integer.compare(b.getDriverPoint(), a.getDriverPoint()))
        	    .collect(Collectors.toList());
    	
    	
    	
    	for(Driver d : sortedList) {
    		if(d.getDriverPoint()==prevDriverPoint) { // 앞 인덱스의 드라이버와 동일한 점수일 경우 (동점일경우)
    			d.setCircuitRank(prevRank-1);
    			prevRank++;
    		}else {
    			d.setCircuitRank(prevRank);
    			prevCircuitPoint = d.getCircuitPoint();
    			prevRank++;
    		}
    		
    		System.out.println(d.getCircuitRank()+" \t "+d.getDriverName()+" \t\t "+d.getConstructor()+" \t\t "+d.getCircuitPoint());
    		System.out.println();
    	}
		
		
		
		System.out.println();
		System.out.println("=====================================================================================");
		
		
		
	}	// printChampionshipDriver

	public void printChampionshipConstructor() {
		System.out.println("랭킹 	팀이름	컨스트럭터 포인트");
		
	}	// printChampionshipConstructor
	
	
	

}
