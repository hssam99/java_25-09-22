package bank;

import java.io.File;
import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

public class BankController implements BankProgram {

	
	final String path = "/Users/suminhong/web_0826_hsm/memo/bankAccount";
	
	List<Bank> bankList = new ArrayList<Bank>(); // 은행 리스트
	
	
	@Override
	public void printMenu() {
		System.out.println("=============== MENU ===============");
		System.out.println("1. 계좌생성 | 2. 입금하기 | 3. 출금하기");
		System.out.println("4. 송금하기 | 5. 계좌정보출력하기 | 6. 종료");
		System.out.println("====================================");
	}
	
	
	@Override
	public void deposit(Scanner sc) {
		
	}

	@Override
	public void withdraw(Scanner sc) {
		
	}

	@Override
	public void transfer(Scanner sc) {
		
	}

	@Override
	public void printAccountHistory() {
		
	}
	
	
//	public int createRandomNum() {
//		return 1;
//	}
	

	@Override
	public void createAccount(Scanner sc) {
		
		// 은행 선택
		printBankList();
		System.out.print("은행 선택 > ");
		int bankName = -1;
		while(true) {
			try {
				bankName = sc.nextInt()-1; // 리스트 인덱스는 사용자가 입력한 값의 -1
				break;
			} catch (Exception e) {
				System.out.println("없는 옵션입니다. 다시 선택하세요.");
			}
		}
		
		// 계좌주명 입력
		System.out.print("계좌주명 > ");
		String name = sc.next();
		
		// 계좌번호 입력
		System.out.print("계좌번호 > ");
		String accountNum = sc.next();
		
		// 계좌 생성
		Account newAccount = new Account();
		newAccount.setName(name); // 계좌주명
		newAccount.setAccountNum(accountNum); // 계좌번호
		
		switch (bankName) {
		case 0:
			bankList.get(0).getCustomerList().add(newAccount);
			new File(path+"우리은행_"+name+"_"+accountNum+".txt"); // 히스토리 파일 생성
			break; // 우리은행
		case 1:
			bankList.get(1).getCustomerList().add(newAccount);
			new File(path+"신한은행_"+name+"_"+accountNum+".txt"); // 히스토리 파일 생성
			break; // 신한은행
		case 2:
			bankList.get(2).getCustomerList().add(newAccount);
			new File(path+"하나은행_"+name+"_"+accountNum+".txt"); // 히스토리 파일 생성
			break; // 하나은행

		default:
			break;
		}
		
		
		System.out.println(bankList.get(bankName)+"계좌가 등록되었습니다.");
		
		
//		// 계좌번호 랜덤 생성
//		switch (bankName) {
//		case 0: // 우리은행
//			Account newAccount = new Account();
//			boolean isUnique = false; // 중복값이 없음
//			int tempAccountNum = 0;
//			
//			while(isUnique==true) {
//				tempAccountNum = (int)(Math.random()*100)+1; // 1~100까지의 번호 랜덤 생성
//				
//				while()
//				
//				if(tempAccountNum)
//				
//			}
//			String accountNum = "";
//			newAccount.setName(name); // 계좌주명
//			newAccount.setAccountNum(accountNum); // 계좌번호
//			bankList.get(0).getCustomerList().add(newAccount);
//			break;
//
//		default:
//			break;
//		}
		
	}
	

	@Override
	public void makeBankList() {
		bankList.add(new Bank("우리은행"));
		bankList.add(new Bank("신한은행"));
		bankList.add(new Bank("하나은행"));
	}
	
	@Override
	public void printBankList() {
		System.out.println("---은행 리스트---");
		int i = 1;
		for(Bank b : bankList) {
			System.out.println("["+i++ + "] "+b.getCompanyName());
		}
		System.out.println("--------------");
	}


	
	
	
	
	
	

}
