package f1_project;

import java.util.ArrayList;
import java.util.Collections;
import java.util.List;
import java.util.Random;
import java.util.Scanner;
import java.util.stream.Collectors;

// ê¸°íƒ€ ê²Œì„ ì»¨íŠ¸ë¡¤ëŸ¬
public class GameController {
	
	DotArtController dac = new DotArtController();
	Random random = new Random();
	Scanner sc = new Scanner(System.in);
	
	
	
    public void printRandomMessagesAfterCourse(int courseType) { // 1-ì§ì„  2-ê³¡ì„  3-ìœ í„´
        List<String> msgs = new ArrayList<>(); // ë¦¬ìŠ¤íŠ¸ ìƒì„±

        switch (courseType) {
            case 1: // ì§ì„ 
                msgs.add("ğŸ”¥ ê´€ì¤‘ì„ì—ì„œ í•¨ì„±ì´ ì»¤ì§‘ë‹ˆë‹¤! ë©‹ì§„ ìŠ¤íƒ€íŠ¸!");
                msgs.add("âš¡ ì†ë„ê³„ë¥¼ ë³´ì„¸ìš”! ì—„ì²­ë‚œ ê°€ì†ì…ë‹ˆë‹¤!");
                msgs.add("ğŸš—ğŸ’¨ ë°”í€´ê°€ í¬ì¥ë„ë¡œë¥¼ ì›€ì¼œì¥ë©° ë¹„ëª…ì„ ì§€ë¦…ë‹ˆë‹¤!");
                msgs.add("ğŸï¸ ì½”ë„ˆ ì§„ì…! ìˆœì‹ê°„ì— ìˆœìœ„ê°€ ë°”ë€” ìˆ˜ ìˆìŠµë‹ˆë‹¤!");
                msgs.add("ğŸ‘ íŒ¬ë“¤ì˜ ì‘ì›ì´ {name} ì„ ìˆ˜ì—ê²Œ í˜ì„ ì‹¤ì–´ì£¼ê³  ìˆìŠµë‹ˆë‹¤!");
                msgs.add("ğŸ¯ ì´ìƒì ì¸ í„´ì¸ í¬ì¸íŠ¸ë¥¼ ì •í™•íˆ ì°ì—ˆìŠµë‹ˆë‹¤!");
                msgs.add("ğŸ§­ ë¼ì¸ ìœ ì§€ê°€ ìŠ¹ë¶€ì˜ ê°ˆë¦¼ê¸¸ì…ë‹ˆë‹¤!");
                break;

            case 2:  // ê³¡ì„ 
                msgs.add("ğŸ¯ ì •í™•í•œ ë¼ì¸! í•œ ì¹˜ì˜ ì˜¤ì°¨ë„ í—ˆìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤!");
                msgs.add("âš¡ ì¢Œìš°ë¡œ í”ë“¤ë¦¬ë©° ì°¨ì²´ê°€ ê·¹í•œì˜ ë°¸ëŸ°ìŠ¤ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤!");
                msgs.add("ğŸ”¥ ì´ êµ¬ê°„ì„ ì™„ë²½íˆ í†µê³¼í•˜ë©´ ì—„ì²­ë‚œ ë©íƒ€ì„ ë‹¨ì¶•ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤!");
                msgs.add("ğŸš€ ì†ë„ë¥¼ ìƒì§€ ì•Šê³  ì—°ì† ì½”ë„ˆë¥¼ ì´ì–´ê°€ëŠ” ë†€ë¼ìš´ ì»¨íŠ¸ë¡¤!");
                msgs.add("ğŸ’¥ ì‘ì€ ì‹¤ìˆ˜ í•˜ë‚˜ê°€ ì¹˜ëª…ì ì¸ ê²°ê³¼ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤!");
                msgs.add("ğŸ‘ ê´€ì¤‘ì„ì—ì„œë„ ìˆ¨ì„ ì£½ì´ê³  ì§€ì¼œë³´ê³  ìˆìŠµë‹ˆë‹¤!");
                msgs.add("ğŸ§  ë¦¬ë“¬ì„ ìƒì§€ ì•ŠëŠ” ì§‘ì¤‘ë ¥ì´ í•µì‹¬ì…ë‹ˆë‹¤!");
                break;

            case 3: // ìœ í„´
                msgs.add("ğŸš€ ì—„ì²­ë‚œ ì§ì„  ìŠ¤í”¼ë“œ! ì—”ì§„ì´ í•œê³„ê¹Œì§€ ëª°ì•„ë¶™ì—¬ì§‘ë‹ˆë‹¤!");
                msgs.add("ğŸ”¥ {name} ë“œë¼ì´ë²„ê°€ DRSë¥¼ ì—´ê³  ìµœëŒ€ ê°€ì†ì„ ë½‘ì•„ëƒ…ë‹ˆë‹¤!");
                msgs.add("âš¡ ì¶”ì›” ì‹œë„! ëˆ„ê°€ ë¨¼ì € ë¸Œë ˆì´í‚¹ í¬ì¸íŠ¸ë¥¼ ì„ ì í• ê¹Œìš”?");
                msgs.add("ğŸ ê´€ì¤‘ë“¤ì´ ìë¦¬ì—ì„œ ì¼ì–´ë‚˜ ì†ì„ í”ë“¤ê³  ìˆìŠµë‹ˆë‹¤!");
                msgs.add("ğŸ’¥ ì‚¬ì´ë“œ ë°”ì´ ì‚¬ì´ë“œ! ë‘ ì°¨ëŸ‰ì´ ë‚˜ë€íˆ ë‹¬ë¦½ë‹ˆë‹¤!");
                msgs.add("ğŸ‘ í•œê³„ê¹Œì§€ ë°€ì–´ë¶™ì´ëŠ” {name} ë“œë¼ì´ë²„ì˜ ìš©ê¸°ì— ë°•ìˆ˜ê°€ í„°ì ¸ë‚˜ì˜µë‹ˆë‹¤!");
                msgs.add("ğŸ¯ ë‹¤ìŒ ì½”ë„ˆë¥¼ ìœ„í•œ ìµœì ì˜ í¬ì§€ì…˜ì„ ë…¸ë¦½ë‹ˆë‹¤!");
                break;

            default:
                // ì˜ˆë¹„ ê³µí†µ ë©˜íŠ¸
                msgs.add("ğŸ”Š íŒ€ ë¼ë””ì˜¤ë¡œ ì „ëµì„ ì¡°ìœ¨í•˜ê³  ìˆìŠµë‹ˆë‹¤!");
                msgs.add("ğŸ§Š íƒ€ì´ì–´ ì˜¨ë„ë¥¼ ì •êµí•˜ê²Œ ê´€ë¦¬í•˜ëŠ” ëª¨ìŠµì…ë‹ˆë‹¤!");
        }
        
        Collections.shuffle(msgs); // 
        int count = 2 + random.nextInt(2); // 2~3ê°œ
        for (int i = 0; i < count && i < msgs.size(); i++) {
            printStringOnebyOne(msgs.get(i));
        }
    }
	
	
	
	
	public void printLoadingDot() throws InterruptedException {
		System.out.print(".");
		Thread.sleep(50);
		System.out.print(".");
		Thread.sleep(50);
		System.out.print(".");
		Thread.sleep(50);
		Thread.sleep(10);
		System.out.println();
		System.out.println();
		System.out.println();
	}	// printLoadingDot

	
	public void printStringOnebyOne(String text) {
    	for (int i = 0; i < text.length(); i++) {
			System.out.print(text.charAt(i)); // í•œ ê¸€ì ì¶œë ¥
			System.out.flush();              // ì¶œë ¥ ì¦‰ì‹œ ë°˜ì˜
			try {
				Thread.sleep(10); // 0.1ì´ˆ ëŒ€ê¸°
			} catch (InterruptedException e) {
				e.printStackTrace();
			}              
		}
    	System.out.println();
    	
    }
	
	
	
	
	
	public void printChampionshipDriver() {
		dac.printGrandPrixStandingImage();
		System.out.println("RANK \t DRIVER \t\t TEAM \t\t\t POINT");
		System.out.println("-------------------------------------------------------------------------------------");
		System.out.println();
		
		
    	int prevDriverPoint = 0;
    	int prevRank = 1;
    	
    	List<Driver> sortedList =  
    			CircuitController.pc.driverListForGrandPix
        	    .stream()
        	    .sorted((a, b) -> Integer.compare(b.getDriverPoint(), a.getDriverPoint()))
        	    .collect(Collectors.toList());
    	
    	
    	for(Driver d : sortedList) {
    		if(d.getDriverPoint()==prevDriverPoint) { // ì• ì¸ë±ìŠ¤ì˜ ë“œë¼ì´ë²„ì™€ ë™ì¼í•œ ì ìˆ˜ì¼ ê²½ìš° (ë™ì ì¼ê²½ìš°)
    			d.setDriverRank(prevRank-1);
    			prevRank++;
    		}else {
    			d.setDriverRank(prevRank);
    			prevRank++;
    		}
    		
    		System.out.println(d.getDriverRank()+" \t "+d.getDriverName()+" \t\t "+d.getConstructor()+" \t\t "+d.getDriverPoint());
    		System.out.println();
    	}
		
		
		
		System.out.println();
		System.out.println("=====================================================================================");
		
	}	// printChampionshipDriver

	public void printChampionshipConstructor() {
		System.out.println("ë­í‚¹ 	íŒ€ì´ë¦„	ì»¨ìŠ¤íŠ¸ëŸ­í„° í¬ì¸íŠ¸");
		dac.printGrandPrixStandingImage();
		System.out.println("RANK \t TEAM \t\t\t POINT");
		System.out.println("-------------------------------------------------------------------------------------");
		System.out.println();
		
    	int prevConstructorPoint = 0;
    	int prevRank = 1;
    	
    	List<Constructor> sortedList =  
    			CircuitController.pc.constructorList
        	    .stream()
        	    .sorted((a, b) -> Integer.compare(b.getConstructorPoint(), a.getConstructorPoint()))
        	    .collect(Collectors.toList());
    	
    	
    	for(Constructor c : sortedList) {
    		if(c.getConstructorPoint()==prevConstructorPoint) { // ì• ì¸ë±ìŠ¤ì˜ ë“œë¼ì´ë²„ì™€ ë™ì¼í•œ ì ìˆ˜ì¼ ê²½ìš° (ë™ì ì¼ê²½ìš°)
    			c.setConstructorRank(prevRank-1);
    			prevRank++;
    		}else {
    			c.setConstructorRank(prevRank);
    			prevRank++;
    		}
    		
    		System.out.println(c.getConstructorRank()+" \t "+c.getConstructorName()+"\t\t "+c.getConstructorPoint());
    		System.out.println();
    	}
		
		
		
		System.out.println();
		System.out.println("=====================================================================================");
		
	}	// printChampionshipConstructor
	
	
	

}
